<!DOCTYPE html>
<html>
    <head>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
        <meta content="IE=edge" http-equiv="X-UA-Compatible" />
        <!-- <title>LifeTracker a template by Themefisher</title> -->
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <script src="https://code.highcharts.com/modules/exporting.js"></script>
        <script src="js/libs/jquery-1.8.2.js" type="text/javascript"></script>
        <script src="js/plibs/Ajax.js" type="text/javascript"></script>        
        <script src="js/plibs/FormAjax.js" type="text/javascript"></script>
        <script src="js/plibs/Form.js" type="text/javascript"></script>
        <script src="js/plibs/Chart.js" type="text/javascript"></script>
        <script src="js/plibs/Util.js" type="text/javascript"></script>
    </head>
    <body>
        <div id="container1" style="min-width: 310px; height: 250px; border:1px soild red;margin: 0 auto"></div>


        <div id="container2" style="min-width: 310px; height: 300px; margin: 0 auto;border:1px soild red;"></div>


        <script>
            $(document).ready(function () {


                var lChart1 = new Chart();
                var lChart1Config = {
                    chart: {
                        zoomType: 'x',
                        type: 'area'
                    },
                    title: {
                        text: 'Transaction Per Day'
                    },
                    subtitle: {
                        text: document.ontouchstart === undefined ?
                                'Click and drag in the plot area to zoom in' : 'Pinch the chart to zoom in'
                    },
                    xAxis: {
                        type: 'datetime'
                    },
                    yAxis: {
                        title: {
                            text: 'No Of Transaction'
                        }
                    },
                    legend: {
                        enabled: false
                    },
                    plotOptions: {
                        area: {
                            fillColor: {
                                linearGradient: {
                                    x1: 0,
                                    y1: 0,
                                    x2: 0,
                                    y2: 1
                                },
                                stops: [
                                    [0, Highcharts.getOptions().colors[0]],
                                    [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
                                ]
                            },
                            marker: {
                                radius: 2
                            },
                            lineWidth: 1,
                            states: {
                                hover: {
                                    lineWidth: 1
                                }
                            },
                            threshold: null
                        }
                    }
                };
                lChart1.setChartCode("CHART1");
                lChart1.setConfig(lChart1Config);
                lChart1.setContainer("container1");
               // lChart1.render();

                Highcharts.getOptions().colors = Highcharts.map(Highcharts.getOptions().colors, function (color) {
                    return {
                        radialGradient: {
                            cx: 0.5,
                            cy: 0.3,
                            r: 0.7
                        },
                        stops: [
                            [0, color],
                            [1, Highcharts.Color(color).brighten(-0.3).get('rgb')] // darken
                        ]
                    };
                });


                var lChart2 = new Chart();
                var lChart2Config = {
                    chart: {
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false,
                        type: 'pie'
                    },
                    title: {
                        text: 'Transaction Type'
                    },
                    tooltip: {
                        pointFormat: '<b>{point.percentage:.1f}%</b>'
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                                enabled: true,
                                format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                                connectorColor: 'silver'
                            }
                        }
                    }
                };
                lChart2.setChartCode("CHART2");
                lChart2.setConfig(lChart2Config);
                lChart2.setContainer("container2");
                lChart2.render();

            });
            /*
             function builSeriesdData(pData){
             var lData = {};
             lData.y = new Array();
             lData.category = new Array();
             for(var i in pData.data){
             var lRow = pData.data[i];
             lData.y.push(lRow.count);
             lData.category.push(lRow.transactionDate);
             }
             return lData;
             }
             
             function renderChart(pData) {
             
             var lChartData = builSeriesdData(pData);
             
             
             };
             
             $(document).ready(function () {
             var url = localStorage.getItem("url");
             if (null === url) {
             url = "";
             }
             url += "webresources/DashboardWebService/getChartData";
             
             var lAjax = new FormAjax();
             lAjax.setUrl(url);
             var lData = JSON.stringify({
             "data": {
             "chartCode": "CHART1"
             }
             });
             lAjax.setData(lData);
             //lAjax.setDataType('json');
             lAjax.setType('post');
             lAjax.addEventListener('success', function (response) {
             console.log(response);
             var lJSONResponse = JSON.parse(response);
             renderChart(lJSONResponse);
             debugger;
             
             });
             lAjax.addEventListener('error', function (textStatus, errorThrown) {
             
             });
             lAjax.execute();
             
             });
             */
        </script>

    </body>   
</body>
</html>